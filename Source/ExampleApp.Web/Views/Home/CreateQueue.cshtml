@model ExampleApp.Web.Models.CreateQueueModel

@using (Ajax.BeginForm("CreateQueue", "Home", new AjaxOptions{ HttpMethod = "POST", UpdateTargetId = "MainBody", OnBegin = "CreateQueueStarted", OnComplete = "CreateQueueCompleted", OnSuccess = "CreateQueueSucceeded", OnFailure = "CreateQueueFailed" }, new { Id = "CreateQueueForm"}))
{
    @Html.AntiForgeryToken()

    <h2>Create a Queue to Get Started</h2>

    <div>
        @Html.EditorForModel()
        <input id="CreateQueueButton" type="submit" value="Create"/>
    </div>
}

<script type="text/javascript">
    // Called when the user initiates a create queue AJAX request.
    function CreateQueueStarted() {
        $('#AjaxStatus').text('STARTED');
        $('#AjaxStatusMessage').text('Request submitting, awaiting a response from the server.');
    }

    function CreateQueueSucceeded() {
        $('#AjaxResult').text('SUCCEEDED');
        $('#AjaxStatusMessage').text('The last request was successful.');
    }

    function CreateQueueFailed(response) {
        $('#AjaxResult').text('FAILED');
        $('#AjaxStatusMessage').text(response.responseText);
    }

    function CreateQueueCompleted(xhr) {
        $('#AjaxStatus').text('COMPLETED');
    }
</script>